{"ast":null,"code":"\"use strict\";\n\nvar querystring = require(\"querystring\");\n\nvar SdkException = require(\"./sdkexception.js\");\n\nvar WebHelper = require(\"./webhelper.js\");\n\nvar GettyApiRequest = require(\"./baseclasses/gettyApiRequest.js\");\n\nconst _ids = new WeakMap();\n\nconst _fields = new WeakMap();\n\nclass Videos extends GettyApiRequest {\n  constructor(credentials, hostName) {\n    super(credentials, hostName);\n    this.ids = [];\n    this.fields = [];\n  }\n\n  set ids(value) {\n    _ids.set(this, value);\n  }\n\n  get ids() {\n    return _ids.get(this);\n  }\n\n  set fields(value) {\n    _fields.set(this, value);\n  }\n\n  get fields() {\n    return _fields.get(this);\n  }\n\n  withId(id) {\n    this.ids[this.ids.length] = id;\n    return this;\n  }\n\n  withIds(ids) {\n    this.ids = this.ids.concat(ids);\n    return this;\n  }\n\n  withResponseField(field) {\n    this.fields[this.fields.length] = field;\n    return this;\n  }\n\n  execute() {\n    var path = \"/v3/videos\";\n    var params = null;\n\n    if (this.ids.length === 0) {\n      throw new SdkException(\"must specify at least one video id\");\n    } else if (this.ids.length === 1) {\n      path += \"/\" + this.ids[0];\n    } else {\n      params = {};\n      params.ids = this.ids.join(\",\");\n    }\n\n    if (this.fields.length > 0) {\n      if (!params) {\n        params = {};\n      }\n\n      params.fields = this.fields.join(\",\");\n    }\n\n    if (params) {\n      path += \"?\" + querystring.stringify(params);\n    }\n\n    var webHelper = new WebHelper(this.credentials, this.hostName);\n    return webHelper.get(path);\n  }\n\n}\n\nmodule.exports = Videos;","map":{"version":3,"names":["querystring","require","SdkException","WebHelper","GettyApiRequest","_ids","WeakMap","_fields","Videos","constructor","credentials","hostName","ids","fields","value","set","get","withId","id","length","withIds","concat","withResponseField","field","execute","path","params","join","stringify","webHelper","module","exports"],"sources":["D:/Getty-Search-Media-Results/node_modules/@vineetshekhawat/gettyimages-api/lib/videos.js"],"sourcesContent":["\"use strict\";\r\n\r\nvar querystring = require(\"querystring\");\r\nvar SdkException = require(\"./sdkexception.js\");\r\nvar WebHelper = require(\"./webhelper.js\");\r\nvar GettyApiRequest = require(\"./baseclasses/gettyApiRequest.js\");\r\n\r\nconst _ids = new WeakMap();\r\nconst _fields = new WeakMap();\r\n\r\nclass Videos extends GettyApiRequest {\r\n    constructor(credentials, hostName) {\r\n        super(credentials,hostName);\r\n        this.ids = [];\r\n        this.fields = [];\r\n    }\r\n    \r\n    set ids(value) {\r\n        _ids.set(this,value);\r\n    }\r\n    \r\n    get ids() {\r\n        return _ids.get(this);\r\n    }\r\n    \r\n    set fields(value) {\r\n        _fields.set(this,value);\r\n    }\r\n    \r\n    get fields() {\r\n        return _fields.get(this);\r\n    }\r\n    \r\n    withId(id) {\r\n        this.ids[this.ids.length] = id;\r\n        return this;\r\n    }\r\n    \r\n    withIds(ids) {\r\n        this.ids = this.ids.concat(ids);\r\n        return this;\r\n    }\r\n    \r\n    withResponseField(field) {\r\n        this.fields[this.fields.length] = field;\r\n        return this;\r\n    }\r\n    \r\n    execute() {\r\n        var path = \"/v3/videos\";\r\n        var params = null;\r\n\r\n        if (this.ids.length === 0) {\r\n            throw new SdkException(\"must specify at least one video id\");\r\n        } else if (this.ids.length === 1) {\r\n            path += \"/\" + this.ids[0];\r\n        } else {\r\n            params = {};\r\n            params.ids = this.ids.join(\",\");\r\n        }\r\n\r\n        if (this.fields.length > 0) {\r\n            if (!params) {\r\n                params = {};\r\n            }\r\n\r\n            params.fields = this.fields.join(\",\");\r\n        }\r\n\r\n        if (params) {\r\n            path += \"?\" + querystring.stringify(params);\r\n        }\r\n\r\n        var webHelper = new WebHelper(this.credentials, this.hostName);\r\n        return webHelper.get(path);\r\n    }\r\n}\r\n\r\nmodule.exports = Videos;"],"mappings":"AAAA;;AAEA,IAAIA,WAAW,GAAGC,OAAO,CAAC,aAAD,CAAzB;;AACA,IAAIC,YAAY,GAAGD,OAAO,CAAC,mBAAD,CAA1B;;AACA,IAAIE,SAAS,GAAGF,OAAO,CAAC,gBAAD,CAAvB;;AACA,IAAIG,eAAe,GAAGH,OAAO,CAAC,kCAAD,CAA7B;;AAEA,MAAMI,IAAI,GAAG,IAAIC,OAAJ,EAAb;;AACA,MAAMC,OAAO,GAAG,IAAID,OAAJ,EAAhB;;AAEA,MAAME,MAAN,SAAqBJ,eAArB,CAAqC;EACjCK,WAAW,CAACC,WAAD,EAAcC,QAAd,EAAwB;IAC/B,MAAMD,WAAN,EAAkBC,QAAlB;IACA,KAAKC,GAAL,GAAW,EAAX;IACA,KAAKC,MAAL,GAAc,EAAd;EACH;;EAEM,IAAHD,GAAG,CAACE,KAAD,EAAQ;IACXT,IAAI,CAACU,GAAL,CAAS,IAAT,EAAcD,KAAd;EACH;;EAEM,IAAHF,GAAG,GAAG;IACN,OAAOP,IAAI,CAACW,GAAL,CAAS,IAAT,CAAP;EACH;;EAES,IAANH,MAAM,CAACC,KAAD,EAAQ;IACdP,OAAO,CAACQ,GAAR,CAAY,IAAZ,EAAiBD,KAAjB;EACH;;EAES,IAAND,MAAM,GAAG;IACT,OAAON,OAAO,CAACS,GAAR,CAAY,IAAZ,CAAP;EACH;;EAEDC,MAAM,CAACC,EAAD,EAAK;IACP,KAAKN,GAAL,CAAS,KAAKA,GAAL,CAASO,MAAlB,IAA4BD,EAA5B;IACA,OAAO,IAAP;EACH;;EAEDE,OAAO,CAACR,GAAD,EAAM;IACT,KAAKA,GAAL,GAAW,KAAKA,GAAL,CAASS,MAAT,CAAgBT,GAAhB,CAAX;IACA,OAAO,IAAP;EACH;;EAEDU,iBAAiB,CAACC,KAAD,EAAQ;IACrB,KAAKV,MAAL,CAAY,KAAKA,MAAL,CAAYM,MAAxB,IAAkCI,KAAlC;IACA,OAAO,IAAP;EACH;;EAEDC,OAAO,GAAG;IACN,IAAIC,IAAI,GAAG,YAAX;IACA,IAAIC,MAAM,GAAG,IAAb;;IAEA,IAAI,KAAKd,GAAL,CAASO,MAAT,KAAoB,CAAxB,EAA2B;MACvB,MAAM,IAAIjB,YAAJ,CAAiB,oCAAjB,CAAN;IACH,CAFD,MAEO,IAAI,KAAKU,GAAL,CAASO,MAAT,KAAoB,CAAxB,EAA2B;MAC9BM,IAAI,IAAI,MAAM,KAAKb,GAAL,CAAS,CAAT,CAAd;IACH,CAFM,MAEA;MACHc,MAAM,GAAG,EAAT;MACAA,MAAM,CAACd,GAAP,GAAa,KAAKA,GAAL,CAASe,IAAT,CAAc,GAAd,CAAb;IACH;;IAED,IAAI,KAAKd,MAAL,CAAYM,MAAZ,GAAqB,CAAzB,EAA4B;MACxB,IAAI,CAACO,MAAL,EAAa;QACTA,MAAM,GAAG,EAAT;MACH;;MAEDA,MAAM,CAACb,MAAP,GAAgB,KAAKA,MAAL,CAAYc,IAAZ,CAAiB,GAAjB,CAAhB;IACH;;IAED,IAAID,MAAJ,EAAY;MACRD,IAAI,IAAI,MAAMzB,WAAW,CAAC4B,SAAZ,CAAsBF,MAAtB,CAAd;IACH;;IAED,IAAIG,SAAS,GAAG,IAAI1B,SAAJ,CAAc,KAAKO,WAAnB,EAAgC,KAAKC,QAArC,CAAhB;IACA,OAAOkB,SAAS,CAACb,GAAV,CAAcS,IAAd,CAAP;EACH;;AAjEgC;;AAoErCK,MAAM,CAACC,OAAP,GAAiBvB,MAAjB"},"metadata":{},"sourceType":"script"}